{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-10-02 14:05:43.890889",
 "css": "",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "HSC Details",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{# ================= HSC Connection Report \u2014 PDF-safe body only ================= #}\r\n{% set pd = frappe.get_doc(\"Personal Details\", doc.all_details) if doc.all_details else None %}\r\n{% set cluster = frappe.get_doc(\"Cluster Details\", pd.cluster_name) if pd and pd.cluster_name else None %}\r\n{% set village = frappe.get_doc(\"Village Details\", pd.village_name) if pd and pd.village_name else None %}\r\n{% set blockat = frappe.get_doc(\"Block at Zone\", pd.display_name) if pd and pd.display_name else None %}\r\n{% set contractor = frappe.get_doc(\"Contractor At Cluster\", pd.contractor_name) if pd and pd.contractor_name else None %}\r\n{% set url = frappe.utils.get_url %}\r\n\r\n{# Clickable photo macro with placeholder if missing #}\r\n{% macro photo(label, path) -%}\r\n  {% set has = 1 if path else 0 %}\r\n  {% if has %}{% set href = url(path) %}{% endif %}\r\n  <table class=\"thumb no-break\"><tr>\r\n    <td class=\"thumb-inner\">\r\n      {% if has %}\r\n        <a href=\"{{ href }}\" target=\"_blank\" rel=\"noopener\">\r\n          <img src=\"{{ href }}\" alt=\"{{ label }}\">\r\n        </a>\r\n      {% else %}\r\n        <div class=\"ph-holder\">Image not uploaded</div>\r\n      {% endif %}\r\n      <div class=\"cap\">{{ label }}</div>\r\n    </td>\r\n  </tr></table>\r\n{%- endmacro %}\r\n\r\n<style>\r\n  /* Page & base */\r\n  @page { size: A4; margin: 14mm 12mm 14mm 12mm; }\r\n  * { box-sizing: border-box; }\r\n  body { font-family: Inter, \"Helvetica Neue\", Arial, sans-serif; color:#111; }\r\n\r\n  /* Keep sections from tearing in wkhtmltopdf */\r\n  .no-break { page-break-inside: avoid; }\r\n  table { border-collapse: collapse; width: 100%; }\r\n  td { vertical-align: top; }\r\n  tr { page-break-inside: avoid; }\r\n\r\n  /* Simple top header (on page 1 only) */\r\n  .header { border-bottom:2px solid #222; padding-bottom:8px; margin-bottom:14px; }\r\n  .brand { font-size:18px; font-weight:700; letter-spacing:.2px; }\r\n  .title { font-size:16px; font-weight:700; margin-top:4px; }\r\n  .meta { font-size:11px; color:#444; text-align:right; line-height:1.35; }\r\n\r\n  /* Card & split sections */\r\n  .card, .splitcard { border:1px solid #e5e7eb; border-radius:10px; margin-top:12px; }\r\n  .card { padding:10px 12px; }\r\n  .splitcard { padding:0; }\r\n  .section-title { margin:0; padding:10px 12px 0; font-size:13px; font-weight:700; text-transform:uppercase; letter-spacing:.6px; color:#334155; }\r\n  .subhead { font-size:11px; font-weight:700; color:#475569; padding:8px 12px 6px; }\r\n\r\n  /* Two-column table (PDF-safe) */\r\n  .twocol { width:100%; }\r\n  .twocol td { width:50%; padding:10px 12px; }\r\n  .twocol td.divider { width:1px; padding:0; background:#e5e7eb; }\r\n\r\n  /* Key\u2013value tables */\r\n  .kv { width:100%; }\r\n  .kv td { padding:5px 6px; font-size:12px; }\r\n  .kv td.k { width:42%; color:#475569; }\r\n  .kv td.v { width:58%; color:#111827; font-weight:600; }\r\n\r\n  /* Signature */\r\n  .sigbox { border:1px dashed #94a3b8; border-radius:8px; padding:10px; display:table; width:100%; }\r\n  .sigimg img { height:50px; max-width:240px; }\r\n  .sigtext { color:#64748b; font-size:12px; padding-left:12px; }\r\n\r\n  /* Photos grid (3 across) with placeholders */\r\n  .photos td { width:33.33%; padding:6px; }\r\n  .thumb { border:1px solid #e5e7eb; border-radius:8px; }\r\n  .thumb-inner { padding:6px; }\r\n  .thumb img { width:100%; height:150px; object-fit:contain; }\r\n  .ph-holder {\r\n    height:150px; display:flex; align-items:center; justify-content:center;\r\n    font-size:11px; color:#6b7280; background:#f8fafc; border:1px dashed #cbd5e1; border-radius:6px;\r\n  }\r\n  .cap { font-size:11px; color:#334155; padding-top:4px; border-top:1px solid #e5e7eb; margin-top:6px; }\r\n\r\n  .hr { height:1px; background:#e5e7eb; margin:12px 0; }\r\n  .note { font-size:10px; color:#6b7280; margin-top:4px; }\r\n</style>\r\n\r\n<div class=\"report\">\r\n\r\n  <!-- Simple (non-repeating) header -->\r\n  <table class=\"header\">\r\n    <tr>\r\n      <td style=\"width:65%;\">\r\n        <div class=\"brand\">HSC Connection Report</div>\r\n        <div class=\"title\">{{ (pd.customer_name if pd and pd.customer_name) or \"\u2014\" }}</div>\r\n      </td>\r\n      <td class=\"meta\" style=\"width:35%; text-align:right;\">\r\n        <div><b>Document:</b> {{ doc.name }}</div>\r\n        <div><b>Date:</b> {{ frappe.utils.formatdate(doc.hsc_date or doc.creation) }}</div>\r\n        {% if pd and pd.pipe_number %}<div><b>Pipe No:</b> {{ pd.pipe_number }}</div>{% endif %}\r\n      </td>\r\n    </tr>\r\n  </table>\r\n\r\n  <!-- Area & Contractor -->\r\n  <div class=\"splitcard no-break\">\r\n    <h3 class=\"section-title\">Area & Contractor</h3>\r\n    <table class=\"twocol\">\r\n      <tr>\r\n        <td>\r\n          <div class=\"subhead\">Area Details</div>\r\n          <table class=\"kv\">\r\n            <tr><td class=\"k\">Block</td><td class=\"v\">{{ (blockat.block_name if blockat and blockat.block_name) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Zone</td><td class=\"v\">{{ (blockat.zone_name if blockat and blockat.zone_name) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Cluster Name</td><td class=\"v\">{{ (cluster.cluster_name if cluster and cluster.cluster_name) or (pd.cluster_name if pd else \"\u2014\") or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Village Name</td><td class=\"v\">{{ (village.village_name if village and village.village_name) or (pd.village_name if pd else \"\u2014\") or \"\u2014\" }}</td></tr>\r\n          </table>\r\n        </td>\r\n        <td class=\"divider\"></td>\r\n        <td>\r\n          <div class=\"subhead\">Contractor Details</div>\r\n          <table class=\"kv\">\r\n            <tr><td class=\"k\">Firm Name</td><td class=\"v\">{{ (contractor.firm_name if contractor and contractor.firm_name) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Contractor Name</td><td class=\"v\">{{ (contractor.contractor_name if contractor and contractor.contractor_name) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Work Order No.</td><td class=\"v\">{{ (contractor.work_order_no if contractor and contractor.work_order_no) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Contact No.</td><td class=\"v\">{{ (contractor.contact_no if contractor and contractor.contact_no) or \"\u2014\" }}</td></tr>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n  <!-- Personal & HSC -->\r\n  <div class=\"splitcard no-break\">\r\n    <h3 class=\"section-title\">Personal & HSC Details</h3>\r\n    <table class=\"twocol\">\r\n      <tr>\r\n        <td>\r\n          <div class=\"subhead\">Personal Details</div>\r\n          <table class=\"kv\">\r\n            <tr><td class=\"k\">Customer Name</td><td class=\"v\">{{ (pd.customer_name if pd and pd.customer_name) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Mobile Number</td><td class=\"v\">{{ (pd.mobile_number if pd and pd.mobile_number) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Aadhar Number</td><td class=\"v\">{{ (pd.aadhar_number if pd and pd.aadhar_number) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Customer Survey Number</td><td class=\"v\">{{ (pd.customer_survey_number if pd and pd.customer_survey_number) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Pipe Number</td><td class=\"v\">{{ (pd.pipe_number if pd and pd.pipe_number) or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Address</td><td class=\"v\">{{ (pd.address if pd and pd.address) or \"\u2014\" }}</td></tr>\r\n          </table>\r\n        </td>\r\n        <td class=\"divider\"></td>\r\n        <td>\r\n          <div class=\"subhead\">HSC Details</div>\r\n          <table class=\"kv\">\r\n            <tr><td class=\"k\">Saddle Size</td><td class=\"v\">{{ doc.saddle_size or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">ICV</td><td class=\"v\">{{ doc.icv or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">Compressible Elbow</td><td class=\"v\">{{ doc.compressible_elbow or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">PVC Valve</td><td class=\"v\">{{ doc.pvc_ball_valve or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">MDPE Pipe Length</td><td class=\"v\">{{ doc.mdpa_pipe_length or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">CC Cutting Length</td><td class=\"v\">{{ doc.cc_cutting_length or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">CC Cutting Width</td><td class=\"v\">{{ doc.cc_cutting_width or \"\u2014\" }}</td></tr>\r\n            <tr><td class=\"k\">CC Cutting Depth</td><td class=\"v\">{{ doc.cc_cutting_depth or \"\u2014\" }}</td></tr>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n  <!-- Signature -->\r\n  <div class=\"card no-break\">\r\n    <h3 class=\"section-title\" style=\"padding-top:0;\">Signature</h3>\r\n    <table class=\"sigbox\">\r\n      <tr>\r\n        <td class=\"sigimg\">\r\n          {% if doc.signature %}\r\n            {% set sig = url(doc.signature) %}\r\n            <a href=\"{{ sig }}\" target=\"_blank\" rel=\"noopener\"><img src=\"{{ sig }}\" alt=\"Signature\"></a>\r\n          {% else %}\r\n            <span class=\"muted\">No signature available</span>\r\n          {% endif %}\r\n        </td>\r\n        <td class=\"sigtext\">Signed by Installer / Contractor</td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n  <!-- Photographs -->\r\n  <div class=\"card no-break\">\r\n    <h3 class=\"section-title\" style=\"padding-top:0;\">Photographs</h3>\r\n    <table class=\"photos\">\r\n      <tr>\r\n        <td>{{ photo(\"Connection Photo\", doc.connection_photo) }}</td>\r\n        <td>{{ photo(\"Aadhar Card Photo\", pd.aadhar_card_photo if pd else None) }}</td>\r\n        <td>{{ photo(\"Customer Photo\", pd.customer_photo if pd else None) }}</td>\r\n      </tr>\r\n      <tr>\r\n        <td>{{ photo(\"Samagra ID Photo\", pd.samagra_id_photo if pd else None) }}</td>\r\n        <td></td>\r\n        <td></td>\r\n      </tr>\r\n    </table>\r\n    <div class=\"note\">Click an image to open the original in a new tab.</div>\r\n  </div>\r\n\r\n  <div class=\"hr\"></div>\r\n  <div class=\"note\">Generated on {{ frappe.utils.format_datetime(frappe.utils.now_datetime()) }}</div>\r\n</div>\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-10-07 23:40:36.718217",
 "modified_by": "Administrator",
 "module": "Hsc Master",
 "name": "HSC Print",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}
